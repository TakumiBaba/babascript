#!/usr/bin/env ruby
require 'rubygems'
$:.unshift File.expand_path '../lib', File.dirname(__FILE__)
require 'babascript'
load "#{ENV['HOME']}/.ibbrc" if File.exists? "#{ENV['HOME']}/.ibbrc"

BabaScript.baba do
  STDERR.puts "BabaScript v#{BabaScript::VERSION} - ruby #{RUBY_VERSION}-p#{RUBY_PATCHLEVEL} (#{RUBY_RELEASE_DATE}) [#{RUBY_PLATFORM}]"
  print "[IBB] > "
  while line = STDIN.gets do
    line.strip!
    unless line.empty?
      puts "(waiting response)"
      p instance_eval line
    end
    print "[IBB] > "
  end
end
